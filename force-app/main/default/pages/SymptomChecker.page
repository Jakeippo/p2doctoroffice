<apex:page controller="SymptomCheckerController">
          
    <body style="background-image:  url('{!$Resource.back}');">
            <apex:messages />
            <apex:param name="symptomInput" value="{!symptomInput}" assignTo="{!symptomInput}" />
            
            <apex:pageBlock title="Symptom Identification" id="searchResults">
                <apex:pageBlockButtons >
                </apex:pageBlockButtons>
                <apex:form >
                    <apex:pageBlockSection title="Symptom Information" columns="1" collapsible="false">
                        <apex:outputText value="Symptom" />
                        <apex:outputPanel id="inputs">
                            <apex:inputText value="{!symptomInput}"/>
                        </apex:outputPanel>     
                        <apex:actionRegion >
                            <apex:commandButton value="Search">
                                <apex:actionSupport event="onclick" reRender="searchResults"/>
                            </apex:commandButton>
                        </apex:actionRegion>
                    </apex:pageBlockSection>
                    <apex:pageBlockSection columns="2" collapsible="false">
                        <apex:pageBlockSection title="Symptom Search Results"  id="searchResults" collapsible="false" columns="1">
                            <apex:selectCheckBoxes value="{!selectedSymptoms}" layout="pageDirection">
                                <apex:selectOptions value="{!results}" />
                            </apex:selectCheckBoxes>
                            <apex:commandButton value="Add symptoms" action="{!addSymptoms}"/>
                        </apex:pageBlockSection>
                        <apex:pageBlockSection title="List of selected symptoms" collapsible="false" columns="1">
                            <apex:pageBlockTable value="{!symptomMap}" var="s">
                                <apex:column value="{!symptomMap[s]}"></apex:column>
                            </apex:pageBlockTable>
                            <apex:commandButton value="Diagnose" action="{!diagnose}"/>
                        </apex:pageBlockSection>
                    </apex:pageBlockSection>
                    
                </apex:form> 
            </apex:pageBlock>

    </body>  
</apex:page>